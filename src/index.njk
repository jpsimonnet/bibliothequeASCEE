---
layout: layouts/base.njk
title: Accueil
---

<div class="home-hero">
  <h1>Bienvenue dans notre bibliothèque</h1>
  <p class="subtitle">Découvrez notre collection de {{ livres.length }} livres</p>
</div>

<section class="home-featured">
  <h2>Livres récemment ajoutés</h2>
  <div class="livres-grid">
    {% set recentBooks = livres | reverse | limit(12) %}
    {% set totalBooks = livres.length %}
    {% for livre in recentBooks %}
      {% set realIndex = totalBooks - loop.index %}
      <article class="livre-card">
        <a href="/livre/{{ realIndex }}/">
          <div class="livre-card-cover">
            <img 
              src="/images/covers/{{ livre.id }}.webp" 
              alt="Couverture de {{ livre.nom }}"
              loading="lazy"
              width="200"
              height="300"
              onerror="this.src='/bibliothequeASCEE/images/0-livre-par-defaut.svg'"
            >
          </div>
          <div class="livre-card-info">
            <h3>{{ livre.nom | truncate(50) }}</h3>
            <p class="auteur">{{ livre.auteur | auteurFormat }}</p>
          </div>
        </a>
      </article>
    {% endfor %}
  </div>
  
  <div class="home-cta">
    <a href="/catalogue/" class="btn-primary btn-large">Voir tout le catalogue</a>
  </div>
</section>
