---
pagination:
  data: collections.auteursUniques
  size: 1
  alias: auteur
permalink: "/auteur/{{ auteur | slugify }}/"
eleventyComputed:
  title: "Livres de {{ auteur }}"
---
{% extends "layouts/base.njk" %}

{% block content %}
<article class="auteur-detail">
  
  <nav class="breadcrumb">
    <a href="/">Accueil</a> / 
    <a href="/auteurs/">Auteurs</a> / 
    <span>{{ auteur }}</span>
  </nav>

  <header class="auteur-header">
    <h1>{{ auteur }}</h1>
    {% set livresAuteur = livres | selectattr("auteur", "equalto", auteur) %}
    <p class="auteur-stats">{{ livresAuteur | length }} livre{% if livresAuteur | length > 1 %}s{% endif %} dans notre collection</p>
  </header>

  <div class="livres-grid">
    {% for livre in livresAuteur | sort(attribute="nom") %}
      <article class="livre-card">
        <a href="/livre/{{ livre.id | slugify }}/">
          <div class="livre-card-cover">
            <img 
              src="{{ livre.id | coverUrl }}" 
              alt="Couverture de {{ livre.nom }}"
              loading="lazy"
              width="200"
              height="300"
            >
          </div>
          <div class="livre-card-info">
            {% if livre.type %}
            <span class="livre-card-type">{{ livre.type }}</span>
            {% endif %}
            <h3>{{ livre.nom }}</h3>
            {% if livre.annee and livre.annee != "0" %}
            <p class="livre-annee">{{ livre.annee }}</p>
            {% endif %}
          </div>
        </a>
      </article>
    {% endfor %}
  </div>

  <div class="auteur-actions">
    <button onclick="history.back()" class="btn-secondary">
      ‚Üê Retour aux auteurs
    </button>
  </div>

</article>
{% endblock %}