---
pagination:
  data: collections.auteursUniques
  size: 1
  alias: auteur
permalink: "/auteur/{{ auteur | slugify }}/"
eleventyComputed:
  title: "Livres de {{ auteur }}"
---
{% extends "layouts/base.njk" %}

{% block content %}
<article class="auteur-detail">
  
  <nav class="breadcrumb">
    <a href="{{ '/' | url }}">Accueil</a> / 
    <a href="{{ '/auteurs/' | url }}">Auteurs</a> / 
    <span>{{ auteur }}</span>
  </nav>

  <header class="auteur-header">
    <h1>{{ auteur }}</h1>
    {% set count = 0 %}
    {% for livre in livres %}
      {% if livre.auteur == auteur %}
        {% set count = count + 1 %}
      {% endif %}
    {% endfor %}
    <p class="auteur-stats">{{ count }} livre{% if count > 1 %}s{% endif %} dans notre collection</p>
  </header>

  <div class="livres-grid">
    {% for livre in livres %}
      {% if livre.auteur == auteur %}
        <article class="livre-card">
          <a href="{{ ('/livre/' + loop.index0|string + '/') | url }}">
            <div class="livre-card-cover">
              <img 
                src="{{ ('/images/covers/' + livre.id + '.webp') | url }}"
                alt="Couverture de {{ livre.nom }}"
                loading="lazy"
                width="200"
                height="300"
                
              >
            </div>
            <div class="livre-card-info">
              {% if livre.type %}
              <span class="livre-card-type">{{ livre.type }}</span>
              {% endif %}
              <h3>{{ livre.nom }}</h3>
              {% if livre.annee and livre.annee != "0" %}
              <p class="livre-annee">{{ livre.annee }}</p>
              {% endif %}
            </div>
          </a>
        </article>
      {% endif %}
    {% endfor %}
  </div>

  <div class="auteur-actions">
    <button onclick="history.back()" class="btn-secondary">
      ‚Üê Retour aux auteurs
    </button>
  </div>

</article>
{% endblock %}
